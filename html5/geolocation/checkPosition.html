<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Check Position</title>
</head>

<body>
    <div id="position">

    </div>
    <script>
        function doFirst() {
            navigator.geolocation.getCurrentPosition(succCallback, errorCallback, {
                enableHighAccuracy: false,
                timeout: 1000,
                //timeout單位:毫秒 太少來不及跑
                maximumAge: 0
            })
        }
        //可以放三個參數
        function succCallback(e) {
            //緯度經度準確度
            let accuracy = e.coords.accuracy

            if (accuracy < 15000) {
                document.getElementById("position").innerHTML = `
            緯度: ${e.coords.latitude} <br>
            經度: ${e.coords.longitude} <br>
            準確度: ${e.coords.accuracy} <br>
            `
            } else {
                document.getElementById("position").innerHTML = `超過偵測範圍 `
            }

        }
        function errorCallback(e){
            
        }
        window.addEventListener('load', doFirst)
    </script>
</body>

</html>